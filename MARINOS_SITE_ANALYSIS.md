# 横浜F・マリノス公式サイト スクレイピング分析

## サイト構造

### 1. 未来試合日程ページ
- **URL**: https://www.f-marinos.com/matches/schedule
- **特徴**: 
  - 試合情報がテーブル形式で表示
  - ホーム/アウェイ別に整理
  - キックオフ時刻、対戦相手、スタジアム情報を含む
  - 複数の日付オプション（例：2.21 OR 2.22 OR 2.23）がある場合も

### 2. 過去試合結果ページ
- **URL**: https://www.f-marinos.com/matches/results
- **特徴**:
  - スコア情報が表示される
  - 大会別フィルタリング機能あり（J1リーグ、ルヴァンカップ、天皇杯など）
  - 対戦相手フィルタリング機能あり
  - スタジアムフィルタリング機能あり
  - ハイライト動画・試合レポートへのリンクあり

## HTMLの構造

### 未来試合ページの要素
```
- HOME/AWAY ラベル
- 日付 (例: 2.6 [金])
- キックオフ時刻 (例: 19:00)
- リーグ名 (例: J1百年構想リーグ　地域リーグラウンド 第1節)
- 対戦相手チーム名
- スタジアム名
```

### 過去試合ページの要素
```
- 日付 (例: 12.6 [土])
- リーグ名
- 節数
- ホームチーム
- スコア (例: 2 - 1)
- アウェイチーム
- スタジアム名
- ハイライト動画リンク
- 試合レポートリンク
```

## スクレイピング戦略

### 段階1: 未来試合の取得
1. https://www.f-marinos.com/matches/schedule にアクセス
2. テーブル要素から以下を抽出:
   - 日付
   - ホーム/アウェイ
   - 対戦相手
   - スタジアム
   - キックオフ時刻（未定の場合もある）
3. マリノスが含まれる試合のみ抽出

### 段階2: 過去試合の取得
1. https://www.f-marinos.com/matches/results にアクセス
2. テーブル要素から以下を抽出:
   - 日付
   - リーグ名
   - 対戦相手
   - スコア（ホーム/アウェイ）
   - スタジアム
3. 日付順にソート

### 段階3: データの統合
- 未来試合と過去試合を日付順に統合
- 重複排除（同じ試合が両方に含まれる場合）
- マリノスのホーム/アウェイを判定

## 実装上の注意点

1. **動的コンテンツ**: ページはJavaScriptで動的にレンダリングされる可能性
2. **フィルタリング**: デフォルトでは全ての試合が表示されるが、フィルタ機能がある
3. **日付フォーマット**: 月.日 形式（例: 2.6）で年は含まれない
4. **キックオフ未定**: 複数の日付候補がある場合がある

## 推奨実装方法

Cheerioを使用した静的HTMLスクレイピングで対応可能。JavaScriptレンダリングが必要な場合はPuppeteerやPlaywrightの導入を検討。
